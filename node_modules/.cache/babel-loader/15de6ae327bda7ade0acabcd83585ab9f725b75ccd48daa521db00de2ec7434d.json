{"ast":null,"code":"import _slicedToArray from\"/Users/apple/Desktop/Complete React Developer in 2023 /capstone/crwn-clothing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"/Users/apple/Desktop/Complete React Developer in 2023 /capstone/crwn-clothing/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/apple/Desktop/Complete React Developer in 2023 /capstone/crwn-clothing/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createContext,useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var addCartItem=function addCartItem(cartItems,productToAdd){//find if cartItems contains productToAdd\nvar existingCartItem=cartItems.find(function(cartItem){return cartItem.id===productToAdd.id;});//if found, increment quantity\nif(existingCartItem){return cartItems.map(function(cartItem){return cartItem.id===productToAdd.id?_objectSpread(_objectSpread({},cartItem),{},{quantity:cartItem.quantity+1}):cartItem;});}//return new array with modified cartItems/new cart item\nreturn[].concat(_toConsumableArray(cartItems),[_objectSpread(_objectSpread({},productToAdd),{},{quantity:1})]);};var removeCartItem=function removeCartItem(cartItems,cartItemToRemove){//find the cart item to remove\nvar existingCartItem=cartItems.find(function(cartItem){return cartItem.id===cartItemToRemove.id;});//checkout if quantity is equal to 1, if it is remove thet item from the cart\nif(existingCartItem.quantity===1){return cartItems.filter(function(cartItem){return cartItem.id!==cartItemToRemove.id;});}//return back cart items with matching cart item with reduced quantity\nreturn cartItems.map(function(cartItem){return cartItem.id===cartItemToRemove.id?_objectSpread(_objectSpread({},cartItem),{},{quantity:cartItem.quantity-1}):cartItem;});};var clearCartItem=function clearCartItem(cartItems,cartItemToClear){return cartItems.filter(function(cartItem){return cartItem.id!==cartItemToClear.id;});};export var CartContext=/*#__PURE__*/createContext({isCartOpen:false,setIsCartOpen:function setIsCartOpen(){},cartItems:[],addItemToCart:function addItemToCart(){},removeItemFromCart:function removeItemFromCart(){},clearItemFromCart:function clearItemFromCart(){},cartCount:0,cartTotal:0});export var CartProvider=function CartProvider(_ref){var children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isCartOpen=_useState2[0],setIsCartOpen=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cartItems=_useState4[0],setCartItems=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),cartCount=_useState6[0],setCartCount=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),cartTotal=_useState8[0],setCartTotal=_useState8[1];useEffect(function(){var newCartCount=cartItems.reduce(function(total,cartItem){return total+cartItem.quantity;},0);setCartCount(newCartCount);},[cartItems]);useEffect(function(){var newCartTotal=cartItems.reduce(function(total,cartItem){return total+cartItem.quantity*cartItem.price;},0);setCartTotal(newCartTotal);},[cartItems]);var addItemToCart=function addItemToCart(productToAdd){setCartItems(addCartItem(cartItems,productToAdd));};var removeItemToCart=function removeItemToCart(cartItemToRemove){setCartItems(removeCartItem(cartItems,cartItemToRemove));};var clearItemFromCart=function clearItemFromCart(cartItemToClear){setCartItems(clearCartItem(cartItems,cartItemToClear));};var value={isCartOpen:isCartOpen,setIsCartOpen:setIsCartOpen,addItemToCart:addItemToCart,removeItemToCart:removeItemToCart,clearItemFromCart:clearItemFromCart,cartItems:cartItems,cartCount:cartCount,cartTotal:cartTotal};return/*#__PURE__*/_jsx(CartContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["createContext","useState","useEffect","addCartItem","cartItems","productToAdd","existingCartItem","find","cartItem","id","map","quantity","removeCartItem","cartItemToRemove","filter","clearCartItem","cartItemToClear","CartContext","isCartOpen","setIsCartOpen","addItemToCart","removeItemFromCart","clearItemFromCart","cartCount","cartTotal","CartProvider","children","setCartItems","setCartCount","setCartTotal","newCartCount","reduce","total","newCartTotal","price","removeItemToCart","value"],"sources":["/Users/apple/Desktop/Complete React Developer in 2023 /capstone/crwn-clothing/src/contexts/cart.context.jsx"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\";\n\nconst addCartItem = (cartItems, productToAdd) => {\n    //find if cartItems contains productToAdd\n    const existingCartItem = cartItems.find((cartItem) => cartItem.id === productToAdd.id);\n    //if found, increment quantity\n    if(existingCartItem) {\n        return cartItems.map((cartItem) => cartItem.id === productToAdd.id ? \n            {...cartItem, quantity: cartItem.quantity + 1}\n            : cartItem\n        ); \n    }\n    //return new array with modified cartItems/new cart item\n    return [...cartItems, {...productToAdd, quantity: 1}];\n}\n\n\n\nconst removeCartItem = (cartItems, cartItemToRemove) => {\n    //find the cart item to remove\n    const existingCartItem = cartItems.find(\n        (cartItem) => cartItem.id === cartItemToRemove.id\n        );\n    //checkout if quantity is equal to 1, if it is remove thet item from the cart\n    if(existingCartItem.quantity === 1) {\n        return cartItems.filter((cartItem) => cartItem.id !== cartItemToRemove.id)\n    }\n\n        \n    //return back cart items with matching cart item with reduced quantity\n    return cartItems.map((cartItem) => \n        cartItem.id === cartItemToRemove.id \n        ? {...cartItem, quantity: cartItem.quantity - 1}\n            : cartItem\n        );\n};\n\nconst clearCartItem = (cartItems, cartItemToClear) => cartItems.filter((cartItem) => cartItem.id !== cartItemToClear.id)\n\n\nexport const CartContext = createContext({\n    isCartOpen: false,\n    setIsCartOpen: () => {},\n    cartItems: [],\n    addItemToCart: () => {},\n    removeItemFromCart: () => {},\n    clearItemFromCart: () => {},\n    cartCount: 0,\n    cartTotal: 0,\n});\n\nexport const CartProvider = ({children}) => {\n    const [isCartOpen, setIsCartOpen] = useState(false);\n    const [cartItems, setCartItems] = useState([]);\n    const [cartCount, setCartCount] = useState(0);\n    const [cartTotal, setCartTotal] = useState(0);\n\n    useEffect(() => {\n        const newCartCount = cartItems.reduce((total, cartItem) => total + cartItem.quantity, 0)\n        setCartCount(newCartCount);\n    }, [cartItems])\n\n    useEffect(() => {\n        const newCartTotal = cartItems.reduce((total, cartItem) => total + cartItem.quantity * cartItem.price, \n        0)\n        setCartTotal(newCartTotal);\n    }, [cartItems])\n\n    const addItemToCart = (productToAdd) => {\n        setCartItems(addCartItem(cartItems, productToAdd))\n    };\n\n    const removeItemToCart = (cartItemToRemove) => {\n        setCartItems(removeCartItem(cartItems, cartItemToRemove))\n    };\n\n    const clearItemFromCart = (cartItemToClear) => {\n        setCartItems(clearCartItem(cartItems, cartItemToClear))\n    };\n\n    const value = {\n        isCartOpen, \n        setIsCartOpen, \n        addItemToCart, \n        removeItemToCart,\n        clearItemFromCart,\n        cartItems, \n        cartCount,\n        cartTotal\n    }\n\n    return <CartContext.Provider value={value}>{children}</CartContext.Provider>\n} "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}