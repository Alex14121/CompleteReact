{"ast":null,"code":"import _defineProperty from\"/Users/apple/Desktop/Complete React Developer in 2023 /capstone/crwn-clothing/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/apple/Desktop/Complete React Developer in 2023 /capstone/crwn-clothing/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/apple/Desktop/Complete React Developer in 2023 /capstone/crwn-clothing/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/apple/Desktop/Complete React Developer in 2023 /capstone/crwn-clothing/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/apple/Desktop/Complete React Developer in 2023 /capstone/crwn-clothing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import FormInput from'../form-input/form-input.component.jsx';import Button,{BUTTON_TYPE_CLASSES}from'../button/button.component.jsx';import{signInWithGooglePopup,signInAuthUserWithEmailAndPassword}from'../../utils/firebase/firebase.utils';import'./sign-in-form.styles.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var defaultFormFields={email:'',password:''};var SignInForm=function SignInForm(){var _useState=useState(defaultFormFields),_useState2=_slicedToArray(_useState,2),formFields=_useState2[0],setFormFields=_useState2[1];var email=formFields.email,password=formFields.password;var resetFormFields=function resetFormFields(){setFormFields(defaultFormFields);};var signInWithGoogle=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return signInWithGooglePopup();case 2:case\"end\":return _context.stop();}}},_callee);}));return function signInWithGoogle(){return _ref.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.prev=1;_context2.next=4;return signInAuthUserWithEmailAndPassword(email,password);case 4:resetFormFields();_context2.next=18;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](1);_context2.t1=_context2.t0.code;_context2.next=_context2.t1==='auth/wrong-password'?12:_context2.t1==='auth/user-not-found'?14:16;break;case 12:alert('incorrect password or email');return _context2.abrupt(\"break\",17);case 14:alert('no user associated with this email');return _context2.abrupt(\"break\",17);case 16:console.log(_context2.t0);case 17:console.log(_context2.t0);case 18:case\"end\":return _context2.stop();}}},_callee2,null,[[1,7]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormFields(_objectSpread(_objectSpread({},formFields),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Already have an account?\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sign in with your email and password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Display name\"}),/*#__PURE__*/_jsx(FormInput,{label:\"Email\",type:\"email\",required:true,onChange:handleChange,name:\"email\",value:email}),/*#__PURE__*/_jsx(FormInput,{label:\"Password\",type:\"password\",required:true,onChange:handleChange,name:\"password\",value:password}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-contaner\",children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Sign In\"}),/*#__PURE__*/_jsx(Button,{buttonType:BUTTON_TYPE_CLASSES.google,type:\"button\",onClick:signInWithGoogle,children:\"Google sign in\"})]})]})]});};export default SignInForm;","map":{"version":3,"names":["useState","FormInput","Button","BUTTON_TYPE_CLASSES","signInWithGooglePopup","signInAuthUserWithEmailAndPassword","defaultFormFields","email","password","SignInForm","formFields","setFormFields","resetFormFields","signInWithGoogle","handleSubmit","event","preventDefault","code","alert","console","log","handleChange","target","name","value","google"],"sources":["/Users/apple/Desktop/Complete React Developer in 2023 /capstone/crwn-clothing/src/components/sign-in-form/sign-in-form.component.jsx"],"sourcesContent":["import { useState } from 'react';\n\nimport FormInput from '../form-input/form-input.component.jsx';\nimport Button, {BUTTON_TYPE_CLASSES} from '../button/button.component.jsx';\n\n\nimport {signInWithGooglePopup, \n        signInAuthUserWithEmailAndPassword} from '../../utils/firebase/firebase.utils';\nimport './sign-in-form.styles.scss';\n\n\nconst defaultFormFields = {\n    email: '',\n    password: '',\n};\n\nconst SignInForm = () => {\n    const [formFields, setFormFields] = useState(defaultFormFields);\n    const { email, password } = formFields;\n\n\n    const resetFormFields = () => {\n        setFormFields(defaultFormFields);\n    };\n\n    const signInWithGoogle = async () => {\n        await signInWithGooglePopup();\n    };\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n\n\n\n        try {\n            await signInAuthUserWithEmailAndPassword(email, password);\n                resetFormFields();\n            }catch(error) {\n                switch(error.code){\n                    case 'auth/wrong-password':\n                        alert('incorrect password or email');\n                        break;\n                    case 'auth/user-not-found':\n                        alert('no user associated with this email')\n                        break;\n                    default:\n                        console.log(error);\n                }\n                console.log(error);\n            }\n    };\n\n    const handleChange = (event) => {\n        const {name, value} = event.target;\n\n        setFormFields({...formFields, [name]: value})\n    };\n\n    return (\n        <div className='sign-up-form'>\n            <h2>Already have an account?</h2>\n            <span>Sign in with your email and password</span>\n            <form onSubmit={handleSubmit}>\n                <label>Display name</label>\n                <FormInput \n                    label='Email'\n                    type='email' \n                    required \n                    onChange={handleChange} \n                    name='email' \n                    value={email}/>\n                \n                <FormInput \n                    label='Password'\n                    type='password' \n                    required \n                    onChange={handleChange} \n                    name='password' \n                    value={password}/>\n\n                    <div className='buttons-contaner'>\n                        <Button type='submit'>Sign In</Button>\n                        <Button buttonType={BUTTON_TYPE_CLASSES.google} type='button' onClick={signInWithGoogle}>Google sign in</Button>\n                    </div>\n            </form>\n        </div>\n    )\n}\n\nexport default SignInForm;"],"mappings":"g0BAAA,OAASA,QAAQ,KAAQ,OAAO,CAEhC,MAAOC,UAAS,KAAM,wCAAwC,CAC9D,MAAOC,OAAM,EAAGC,mBAAmB,KAAO,gCAAgC,CAG1E,OAAQC,qBAAqB,CACrBC,kCAAkC,KAAO,qCAAqC,CACtF,MAAO,4BAA4B,CAAC,wFAGpC,GAAMC,kBAAiB,CAAG,CACtBC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACd,CAAC,CAED,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAS,CACrB,cAAoCT,QAAQ,CAACM,iBAAiB,CAAC,wCAAxDI,UAAU,eAAEC,aAAa,eAChC,GAAQJ,MAAK,CAAeG,UAAU,CAA9BH,KAAK,CAAEC,QAAQ,CAAKE,UAAU,CAAvBF,QAAQ,CAGvB,GAAMI,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC1BD,aAAa,CAACL,iBAAiB,CAAC,CACpC,CAAC,CAED,GAAMO,iBAAgB,4FAAG,2JACfT,sBAAqB,EAAE,uDAChC,kBAFKS,iBAAgB,0CAErB,CAED,GAAMC,aAAY,6FAAG,kBAAOC,KAAK,wHAC7BA,KAAK,CAACC,cAAc,EAAE,CAAC,wCAKbX,mCAAkC,CAACE,KAAK,CAAEC,QAAQ,CAAC,QACrDI,eAAe,EAAE,CAAC,gGAEX,aAAMK,IAAI,+BACR,qBAAqB,mBAGrB,qBAAqB,qBAFtBC,KAAK,CAAC,6BAA6B,CAAC,CAAC,4CAGrCA,KAAK,CAAC,oCAAoC,CAAC,6CAG3CC,OAAO,CAACC,GAAG,cAAO,CAAC,QAE3BD,OAAO,CAACC,GAAG,cAAO,CAAC,sEAE9B,kBArBKN,aAAY,6CAqBjB,CAED,GAAMO,aAAY,CAAG,QAAfA,aAAY,CAAIN,KAAK,CAAK,CAC5B,kBAAsBA,KAAK,CAACO,MAAM,CAA3BC,IAAI,eAAJA,IAAI,CAAEC,KAAK,eAALA,KAAK,CAElBb,aAAa,gCAAKD,UAAU,wBAAGa,IAAI,CAAGC,KAAK,GAAE,CACjD,CAAC,CAED,mBACI,aAAK,SAAS,CAAC,cAAc,wBACzB,gDAAiC,cACjC,8DAAiD,cACjD,cAAM,QAAQ,CAAEV,YAAa,wBACzB,uCAA2B,cAC3B,KAAC,SAAS,EACN,KAAK,CAAC,OAAO,CACb,IAAI,CAAC,OAAO,CACZ,QAAQ,MACR,QAAQ,CAAEO,YAAa,CACvB,IAAI,CAAC,OAAO,CACZ,KAAK,CAAEd,KAAM,EAAE,cAEnB,KAAC,SAAS,EACN,KAAK,CAAC,UAAU,CAChB,IAAI,CAAC,UAAU,CACf,QAAQ,MACR,QAAQ,CAAEc,YAAa,CACvB,IAAI,CAAC,UAAU,CACf,KAAK,CAAEb,QAAS,EAAE,cAElB,aAAK,SAAS,CAAC,kBAAkB,wBAC7B,KAAC,MAAM,EAAC,IAAI,CAAC,QAAQ,qBAAiB,cACtC,KAAC,MAAM,EAAC,UAAU,CAAEL,mBAAmB,CAACsB,MAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAEZ,gBAAiB,4BAAwB,GAC9G,GACP,GACL,CAEd,CAAC,CAED,cAAeJ,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}