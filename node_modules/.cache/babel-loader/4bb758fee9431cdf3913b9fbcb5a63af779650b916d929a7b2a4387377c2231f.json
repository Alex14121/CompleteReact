{"ast":null,"code":"import _defineProperty from\"/Users/apple/Desktop/Complete React Developer in 2023 /capstone/crwn-clothing/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/apple/Desktop/Complete React Developer in 2023 /capstone/crwn-clothing/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/apple/Desktop/Complete React Developer in 2023 /capstone/crwn-clothing/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/apple/Desktop/Complete React Developer in 2023 /capstone/crwn-clothing/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/apple/Desktop/Complete React Developer in 2023 /capstone/crwn-clothing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import Button from'../button/button.component.jsx';import FormInput from'../form-input/form-input.component.jsx';import{createAuthUserWithEmailAndPassword,createUserDocumentFromAuth}from'../../utils/firebase/firebase.utils';import'./sign-up-form.styles.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var defaultFormFields={displayName:'',email:'',password:'',confirmPassword:''};var SignUpForm=function SignUpForm(){var _useState=useState(defaultFormFields),_useState2=_slicedToArray(_useState,2),formFields=_useState2[0],setFormFields=_useState2[1];var displayName=formFields.displayName,email=formFields.email,password=formFields.password,confirmPassword=formFields.confirmPassword;var resetFormFields=function resetFormFields(){setFormFields(defaultFormFields);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _yield$createAuthUser,user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(password!==confirmPassword)){_context.next=4;break;}alert(\"passwords do not match\");return _context.abrupt(\"return\");case 4:_context.prev=4;_context.next=7;return createAuthUserWithEmailAndPassword(email,password);case 7:_yield$createAuthUser=_context.sent;user=_yield$createAuthUser.user;_context.next=11;return createUserDocumentFromAuth(user,{displayName:displayName});case 11:resetFormFields();_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](4);if(_context.t0.code==='auth/email-already-in-use'){alert('Cannot create user, email already in use');}else{console.log('user creation encountered an error',_context.t0);}case 17:case\"end\":return _context.stop();}}},_callee,null,[[4,14]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormFields(_objectSpread(_objectSpread({},formFields),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Don't have an account?\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sign up with your email and password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Display name\"}),/*#__PURE__*/_jsx(FormInput,{label:\"Display name\",type:\"text\",required:true,onChange:handleChange,name:\"displayName\",value:displayName}),/*#__PURE__*/_jsx(FormInput,{label:\"Email\",type:\"email\",required:true,onChange:handleChange,name:\"email\",value:email}),/*#__PURE__*/_jsx(FormInput,{label:\"Password\",type:\"password\",required:true,onChange:handleChange,name:\"password\",value:password}),/*#__PURE__*/_jsx(FormInput,{label:\"Confirm Password\",type:\"password\",required:true,onChange:handleChange,name:\"confirmPassword\",value:confirmPassword}),/*#__PURE__*/_jsx(Button,{type:\"google\",children:\"Sign Up\"})]})]});};export default SignUpForm;","map":{"version":3,"names":["useState","Button","FormInput","createAuthUserWithEmailAndPassword","createUserDocumentFromAuth","defaultFormFields","displayName","email","password","confirmPassword","SignUpForm","formFields","setFormFields","resetFormFields","handleSubmit","event","preventDefault","alert","user","code","console","log","handleChange","target","name","value"],"sources":["/Users/apple/Desktop/Complete React Developer in 2023 /capstone/crwn-clothing/src/components/sign-up-form/sign-up-form.component.jsx"],"sourcesContent":["import { useState } from 'react';\nimport Button from '../button/button.component.jsx';\nimport FormInput from '../form-input/form-input.component.jsx';\n\nimport { createAuthUserWithEmailAndPassword, createUserDocumentFromAuth } from '../../utils/firebase/firebase.utils';\n\nimport './sign-up-form.styles.scss';\n\n\nconst defaultFormFields = {\n    displayName: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n};\n\nconst SignUpForm = () => {\n    const [formFields, setFormFields] = useState(defaultFormFields);\n    const {displayName, email, password, confirmPassword} = formFields;\n\n\n    const resetFormFields = () => {\n        setFormFields(defaultFormFields);\n    };\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n\n        if(password !== confirmPassword) {\n            alert(\"passwords do not match\");\n            return; \n        }\n\n        try {\n            const {user} = await createAuthUserWithEmailAndPassword(\n                email, \n                password\n                );\n\n                await createUserDocumentFromAuth(user, {displayName});\n\n                resetFormFields();\n            }catch(error) {\n                if(error.code === 'auth/email-already-in-use') {\n                    alert('Cannot create user, email already in use');\n                } else {\n                    console.log('user creation encountered an error',   error);\n                }\n        }\n    };\n\n    const handleChange = (event) => {\n        const {name, value} = event.target;\n\n        setFormFields({...formFields, [name]: value})\n    };\n\n    return (\n        <div className='sign-up-form'>\n            <h2>Don't have an account?</h2>\n            <span>Sign up with your email and password</span>\n            <form onSubmit={handleSubmit}>\n                <label>Display name</label>\n                <FormInput \n                    label='Display name'\n                    type='text' \n                    required \n                    onChange={handleChange} \n                    name='displayName' \n                    value={displayName}/>\n                \n                <FormInput \n                    label='Email'\n                    type='email' \n                    required \n                    onChange={handleChange} \n                    name='email' \n                    value={email}/>\n                \n                <FormInput \n                    label='Password'\n                    type='password' \n                    required \n                    onChange={handleChange} \n                    name='password' \n                    value={password}/>\n                \n                <FormInput \n                    label='Confirm Password'\n                    type='password' \n                    required \n                    onChange={handleChange} \n                    name='confirmPassword' \n                    value={confirmPassword}/>\n                <Button type='google'>Sign Up</Button>\n            </form>\n        </div>\n    )\n}\n\nexport default SignUpForm;"],"mappings":"g0BAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAOC,OAAM,KAAM,gCAAgC,CACnD,MAAOC,UAAS,KAAM,wCAAwC,CAE9D,OAASC,kCAAkC,CAAEC,0BAA0B,KAAQ,qCAAqC,CAEpH,MAAO,4BAA4B,CAAC,wFAGpC,GAAMC,kBAAiB,CAAG,CACtBC,WAAW,CAAE,EAAE,CACfC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EAAE,CACZC,eAAe,CAAE,EACrB,CAAC,CAED,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAS,CACrB,cAAoCV,QAAQ,CAACK,iBAAiB,CAAC,wCAAxDM,UAAU,eAAEC,aAAa,eAChC,GAAON,YAAW,CAAsCK,UAAU,CAA3DL,WAAW,CAAEC,KAAK,CAA+BI,UAAU,CAA9CJ,KAAK,CAAEC,QAAQ,CAAqBG,UAAU,CAAvCH,QAAQ,CAAEC,eAAe,CAAIE,UAAU,CAA7BF,eAAe,CAGpD,GAAMI,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC1BD,aAAa,CAACP,iBAAiB,CAAC,CACpC,CAAC,CAED,GAAMS,aAAY,4FAAG,iBAAOC,KAAK,mJAC7BA,KAAK,CAACC,cAAc,EAAE,CAAC,KAEpBR,QAAQ,GAAKC,eAAe,0BAC3BQ,KAAK,CAAC,wBAAwB,CAAC,CAAC,8EAKXd,mCAAkC,CACnDI,KAAK,CACLC,QAAQ,CACP,4CAHEU,IAAI,uBAAJA,IAAI,wBAKDd,2BAA0B,CAACc,IAAI,CAAE,CAACZ,WAAW,CAAXA,WAAW,CAAC,CAAC,SAErDO,eAAe,EAAE,CAAC,iFAElB,GAAG,YAAMM,IAAI,GAAK,2BAA2B,CAAE,CAC3CF,KAAK,CAAC,0CAA0C,CAAC,CACrD,CAAC,IAAM,CACHG,OAAO,CAACC,GAAG,CAAC,oCAAoC,aAAU,CAC9D,CAAC,qEAEZ,kBAxBKP,aAAY,4CAwBjB,CAED,GAAMQ,aAAY,CAAG,QAAfA,aAAY,CAAIP,KAAK,CAAK,CAC5B,kBAAsBA,KAAK,CAACQ,MAAM,CAA3BC,IAAI,eAAJA,IAAI,CAAEC,KAAK,eAALA,KAAK,CAElBb,aAAa,gCAAKD,UAAU,wBAAGa,IAAI,CAAGC,KAAK,GAAE,CACjD,CAAC,CAED,mBACI,aAAK,SAAS,CAAC,cAAc,wBACzB,8CAA+B,cAC/B,8DAAiD,cACjD,cAAM,QAAQ,CAAEX,YAAa,wBACzB,uCAA2B,cAC3B,KAAC,SAAS,EACN,KAAK,CAAC,cAAc,CACpB,IAAI,CAAC,MAAM,CACX,QAAQ,MACR,QAAQ,CAAEQ,YAAa,CACvB,IAAI,CAAC,aAAa,CAClB,KAAK,CAAEhB,WAAY,EAAE,cAEzB,KAAC,SAAS,EACN,KAAK,CAAC,OAAO,CACb,IAAI,CAAC,OAAO,CACZ,QAAQ,MACR,QAAQ,CAAEgB,YAAa,CACvB,IAAI,CAAC,OAAO,CACZ,KAAK,CAAEf,KAAM,EAAE,cAEnB,KAAC,SAAS,EACN,KAAK,CAAC,UAAU,CAChB,IAAI,CAAC,UAAU,CACf,QAAQ,MACR,QAAQ,CAAEe,YAAa,CACvB,IAAI,CAAC,UAAU,CACf,KAAK,CAAEd,QAAS,EAAE,cAEtB,KAAC,SAAS,EACN,KAAK,CAAC,kBAAkB,CACxB,IAAI,CAAC,UAAU,CACf,QAAQ,MACR,QAAQ,CAAEc,YAAa,CACvB,IAAI,CAAC,iBAAiB,CACtB,KAAK,CAAEb,eAAgB,EAAE,cAC7B,KAAC,MAAM,EAAC,IAAI,CAAC,QAAQ,qBAAiB,GACnC,GACL,CAEd,CAAC,CAED,cAAeC,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}